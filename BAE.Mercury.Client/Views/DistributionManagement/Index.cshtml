@*================================================================================
           %name: Create.cshtml %
       %version: 29 %
       Copyright: Copyright 2012 BAE Systems Australia
                  All rights reserved.
================================================================================*@
@using System.Globalization
@using System.Net.Mime
@using BAE.Mercury.Client.Models
@model BAE.Mercury.Client.Models.DistributionManagement
@section CSS
{
    <link href="~/css/style_dm.css" rel="stylesheet" type="text/css" media="all" />
    <link href="~/css/dm.css" rel="stylesheet" type="text/css" media="all" />
    <!--[if IE 7]>
<link href="css/ie7.css" rel="stylesheet" type="text/css" media="all" />
<![endif]-->
    <!--[if IE 8]>
<link href="css/ie8.css" rel="stylesheet" type="text/css" media="all" />
<![endif]-->
    <link rel="stylesheet" href="~/css/jquery-ui.css" />


<!--additional links for list start -->
 @*  <link href="~/cssDavid/Site.css" rel="stylesheet" />
    <link href="~/cssDavid/jquery_004.css" rel="stylesheet" />
    <link href="~/cssDavid/ui.css" rel="stylesheet" />*@


    <link href="~/cssDavid/MessageMain.css" rel="stylesheet" type="text/css" />
    <link href="~/cssDavid/MessageFolders.css" rel="stylesheet" type="text/css" />
    <link href="~/cssDavid/MessageDetails.css" rel="stylesheet" type="text/css" />
    <link href="~/cssDavid/SortOptions.css" rel="stylesheet" type="text/css" media="all" />
    <link href="~/cssDavid/jquery-ui.css" rel="stylesheet" type="text/css" />
    <link href="~/cssDavid/SearchBox.css" rel="stylesheet" type="text/css" media="all" />

<!--additional links for list end -->





}
@section Scripts
{
    <script type="text/javascript" src="~/Scripts/jquery-1.8.2.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery-ui.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.nicescroll.js"></script>
    <script type="text/javascript" src="~/Scripts/waypoints.min.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.scroll.events.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.simpletip-1.3.1.pack.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery-ui-timepicker-addon.js?sdfg5"></script>
    <script type="text/javascript" src="~/Scripts/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="~/Scripts/functions.js?434563456f"></script>
    <script type="text/javascript" src="~/Scripts/functions_dm.js"></script>
    <script type="text/javascript" src="~/Scripts/dm.js?=123456"></script>
    <script type="text/javascript" src="~/Scripts/Initialise.js"></script>

<!--additional links for list start -->

@*<script src="~/ScriptsDavid/jquery.js" type="text/javascript"></script>
*@
<script src="~/ScriptsDavid/DAInitialise.js" type="text/javascript"></script>

@*    <script type="text/javascript" src="ScriptsDavid/modernizr-2.js"></script>
    <script src="Scripts/jquery-1.7.1.js" type="text/javascript"></script>
    <script type="text/javascript" src="ScriptsDavid/jquery-ui.js"></script>
*@    <!--[if IE 7]><link href="/Content/IE7.css" rel="stylesheet" type="text/css" /><![endif]-->
<!--additional links for list end -->



}
@section MenuButtons
{
    <ul class="buttons">
        <li id="btn-save"><a href="#">Save</a><span>Save</span></li>
        <li id="btn-cancel"><a href="#">Cancel</a><span>Cancel</span></li>
    </ul>
}
@section LeftMenuButtons
{
}
@section SideBar

{
    @{
        DistributionManagement dm = (DistributionManagement)Model;
                    //int i = 5;
    }
    <div class="col-left" id="setbox">
        <div id="setbox-scroll">
            <h2>
                Distribution Management</h2>
            <p class="title">
                <a href="#" class="dm-btn">Add Set</a><strong>Add Set</strong></p>
            <ul id="setbox-list">
                @{ foreach (DMset set in dm.Children)
                   {
                    <li class="set">
                        <div>
                            <a href="#"><span class="icon"></span><span id="s_@Html.Raw(set.Id)" class="set-name">
                                <strong>@Html.Raw(set.Name)</strong></span></a>
                            <div class="btn-set">
                                <a href="#" class="checkbox off">Check</a> <a href="#">
                                    <img src="~/images/btn-dm_edit.png" alt="Edit" height="24" width="25"/></a> <a href="#">
                                        <img src="~/images/btn-dm_delete.png" alt="Delete" height="24" width="25"/>
                                    </a><a href="#">
                                        <img src="~/images/btn-dm_copy.png" alt="Copy" height="24" width="25"/></a>
                            </div>
                        </div>
                        <ul style="display: none;">
                            @{ foreach (DMunit unit in set.Children)
                               {
                                <li><a id="s_@Html.Raw(set.Id)_@Html.Raw(unit.Id)" href="#">@Html.Raw(unit.Name)</a></li>
                               }
                            }
                        </ul>
                    </li> 
                   } }
            </ul>
        </div>
        <div id="left-menu-collapse">
            <a href="#">
                <img src="~/images/bg-left_menu_collapse.png" width="30" height="11" align="Close Menu" /></a></div>
        <ul id="left-menu">
            <li><a href="index.html">Mailboxes</a><span class="badges"><span>999</span></span></li>
            <li><a href="message_monitor.html">Message Monitor</a> <span class="badges"><span>9</span></span></li>
            <li><a href="audit_trail.html">Audit Trail</a></li>
            <li class="current"><a href="distribution_management.html">Distribution Management</a></li>
            <li><a href="#">System Preferences</a></li>
            <li><a href="#">User Management</a></li>
            <li><a href="address_book_management.html">Address Book Management</a></li>
        </ul>
    </div>
}
@* body *@
<div class="col-right gradient" id="eset-content">
    <div id="session-content" class="border">
        <div class="content-wrap">
            <div id="search-sic-box">
                <input type="text" value="Search SIC" id="search-sic" /><a class="remove" href="#"></a><span
                    class="search-right"></span>
                <br class="clear" />
            </div>
            <div id="graph" style="height: 300px">
                <!--sets go in here-->
                @*{ Html.RenderPartial("_DMReference", Model); }*@
            </div>
            <div id="rule-visualiser-wrap-outer">
                    <a id="rule-visualiser-wrap-trigger">
                <img src="~/images/btn-rule_visualiser.png" width="30" height="11" alt="Rule Visualiser" /></a>
            </div>
            <div id="rule-visualiser-wrap">
                <h3>
                    Rule Visualiser</h3>
                <div id="rule-visualiser" class="tabs">
                    <ul>
                        <li><a href="#tabs-1">Select Message</a></li>
                        <li><a href="#tabs-2">Select Field</a></li>
                    </ul>
                    <div id="tabs-1">
                        <p>
                            Proin elit arcu, rutrum commodo</p>
                        <div class="btn-wrap wide">
                            <ul>
                                <li><a href="#email-list" class="popup-inline">Select Message</a></li>
                            </ul>
                        </div>
                    </div>
                    <div id="tabs-2">
                        <p>
                            Morbi tincidunt, dui sit amet facilisis feugiat.</p>
                        <ul id="select-field">
                            <li class="field">
                                <select>
                                    <option value="Please select" selected="">Please select</option>
                                    <option value="Precedence">Precedence</option>
                                    <option value="SIC">SIC</option>
                                    <option value="Unit 1">Unit 1</option>
                                    <option value="Dolor sit amet">Dolor sit amet</option>
                                    <option value="Consectetur ">Consectetur </option>
                                    <option value="Adipiscing">Adipiscing</option>
                                    <option value="Integer ">Integer </option>
                                    <option value="Sed eros ">Sed eros </option>
                                    <option value="Leo">Leo</option>
                                    <option value="Id">Id</option>
                                </select>
                                <input type="text" class="txt" />
                                <div class="btn-add">
                                    <a href="#" class="btn-plus">Plus</a> <a href="#" class="btn-minus">Minus</a>
                                </div>
                            </li>
                        </ul>
                        <div class="btn-wrap">
                            <ul>
                                <li><a href="#">Submit</a></li>
                                <li><a href="#">Clear</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <br class="clear" />
        </div>
    </div>
    <br class="clear" />
</div>

<!-- hidden div start -->
<div class="templates">
    <div id="sic-table-template">
    @{
        DistributionManagement dm1 = (DistributionManagement) Model;
        DMset set1 = new DMset(dm1, 0, String.Empty, true);
        DMset unit1 = new DMset(set1, 0, String.Empty, true);
        DMappointment appointment = new DMappointment(unit1, 0, String.Empty, false);
        DMsic sicAction = new DMsic(null, 0, DMsic.SicType.Action, false);
        DMsic sicInfo = new DMsic(null, 0, DMsic.SicType.Info, false);
        appointment.AddChild(sicAction);
        appointment.AddChild(sicInfo);
        //string setUnitId = String.Format("{0}_{1}", 0, 0);
        //
        //Html.RenderPartial("_DMTable", new { app = appointment, setUnitId = setUnitId });
        Html.RenderPartial("_DMTable", appointment); ;
    }
    </div>    
<div id="email-list" style="display:none" onclick="closeList()">
    <div style="z-index:1000; padding:25%; position:absolute; left:0; top:0; width:100%; height:500px; text-align:center; vertical-align:middle; background-color:red; zoom: 1; filter: alpha(opacity=50); opacity: 0.5">
        &nbsp;</div>
    <div style="z-index:2000;position:absolute; left:10px; top:10px;">
        @{ Html.RenderPartial("_DMMessageList", null); } 
    </div>
</div>
<div id="sic-popup" style="display:none;background-color:Aqua;width:3000px; position:absolute; top:10px; height:100%" >AAAAA
    <div style="z-index:1000; padding:25%; position:absolute; left:0; top:0; width:100%; height:500px; text-align:center; vertical-align:middle; background-color:grey; zoom: 1; filter: alpha(opacity=50); opacity: 0.5">
        &nbsp;</div>
    <div style=" z-index:2000;position:absolute; top:50px;left:50px; height:400px;width:400px">
        <a href="#" onclick="closePopupSic()">
            <img src="~/Images/icon-reject.png" alt="reject" />
        </a>
        @{ Html.RenderPartial("_DMPopupSic", null); } 
        </div>
</div>
</div>
<!-- hidden div end -->
